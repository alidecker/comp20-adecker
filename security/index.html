<!DOCTYPE HTML>

<html>
<head>
	<title>Security Issues</title>
	<meta charset="utf-8"/>
	<link rel="stylesheet" href="asst4-style.css"/>
</head>
<body>
	<div class="title-info">
		<h1>Security Issues</h1>
		<h3>Ali Decker<br>December 6th, 2017</h3>
		<ul>Menu
			<li><a href="intro">Introduction</a></li>
			<li><a href="methods">Methodology</a></li>
			<li><a href="abstract">Abstract of Findings</a></li>
			<li><a href="issues">Issues Found</a></li>
			<li><a href="concl">Conclusions</a></li>
			<li><a href="refs">References</a></li>
		</ul>
	</div>
	<div class="analysis">
		<h2><a name="intro">Introduction</a></h2>
		<p>This paper presents the security weaknesses in a map website. The product analyzed is a web application that gets the user's current location, sends it to a database for storage and processing, and then displays the locations of other users and nearby landmarks on a map. This web application also calculates the nearest landmark to the user and, upon clicking on the user's icon, displays a line between the user's icon and this landmark. The database used is MongoDB, and the map is made using the Google Maps API.</p>
		<h2><a name="methods">Methodology</a></h2>
		<p>First, the client side was examined and toyed with in Google Chrome. Second, the client-side code (i.e. html) were examined and analyzed. Lastly, the server code was examined and toyed with using curl on the command line in Terminal. Throughout this process, online articles were consulted to gain exposure and understanding about web security issues (see <a href="refs">References</a> section).
		<h2><a name="abstract">Abstract of Findings</a></h2>
		<h2><a name="issues">Issues Found</a></h2>
		<ol start="1">
			<li>Database Injection: "login" Value in /sendLocation
				<p>Since index.js does not check that the login is legitimate (e.g., that it contains only alphanumeric characters, or that it is below a certain character length), a user could send JavaScript code as the login. This would then be executed by the page whenever that login should be displayed on the page. In this particular web application, the login executes as JavaScript in /checkins, but not in that checkin's info window in index.html. It likely does not read the login as code in the map because the Google Maps API has safeguards against this for their info windows.</p>
				<p>To demonstrate this, I added a checkin to MongoDB using curl in the command window. The login field is JavaScript code that redirects to the MySpace homepage.</p>
				<p><img src="COMP20-curlLogin-before.png" alt="curl redirect to MySpace"/></p>
				<p><img src="COMP20-curlLogin-database.png" alt="MySpace checkin in MongoDB"/></p>
				<p>When you click on this new entry on the map screen (index.html), the info window shows no login, and it does not redirect to MySpace. It likely does not read the login as code in the map because the Google Maps API has safeguards against this for their info windows.</p>
				<p><video src="COMP20-mapNoLogin.mov" alt="map info window without login"/></p>
				<p>When you visit the /checkins page, however, the site does read the new login as JavaScript, execute it, and thus redirect you to MySpace.</p>
				<p><video src="COMP20-checkinsRedirect.mov" alt="checkins redirects to MySpace"/></p>
			</li><li>Non-Legitimate Latitude &amp Longitude
				<p>POST /sendLocation does not check that the user entered a legitimate latitude nor longitude. However, the Google Maps API will display only legitimate coordinates; thus, if the coordinates are not legitimate, the user's position will not appear on the map and an error will ensue.</p>
				<p>Write what I did here</p>
			</li><li>Insert Inappropriate Query String in /checkins.json
				<p></p>
			</li>
		</ol>
		<h2><a name="concl">Conclusion</a></h2>
		<h2><a name="refs">References</a></h2>
	</div>
</body>
</html>